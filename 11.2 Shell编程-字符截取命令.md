# 11.2 Shell编程-字符截取命令
## 11.2.1 cut命令
1. 格式：cut [选项] 文件名
2. 选项：
  - -f 列号：提取第几列
  - -d 分隔符：按照指定分隔符分割列
  - **注意：** 分隔符要用TAB键，不能用空格
3. cut通常配合管道符和grep使用，提取有用的信息
4. cut的局限：在分隔符为" "时，很麻烦

## 11.2.2 printf命令
1. 格式：printf '输出类型输出格式' 输出内容
2. 输出类型：
- %ns：输出字符串，n是数字指代输出几个字符
- %ni：输出整数，n是数字指代输出几个数字
- %m.nf：输出浮点数。m和n是数字，指代输出的整数位数和小数位数。如%8.2f代表共输出8位数，其中2位是小数，6位是整数。
3. 输出格式：
- \a：输出警告声音
- \b：输出退格键，也就是Backspace键
- \f：清除屏幕
- \n：换行
- \r：回车，也就是Enter键
- \t：水平输出退格键，也就是Tab键
- \v：垂直输出退格键，也就是Tab键
- printf '%s' ＄(cat student.txt)：不调整输出格式
- printf '%s\t %s\t %s\t %s\t %s\t %s\t \n' ＄(cat student.txt)：调整输出格式

## 11.2.3 awk命令
1. 格式：awk '条件1{动作1} 条件2{动作2} 条件3{动作3}……' 文件名
- 条件（pattern）：一般使用关系表达式作为条件
  - x > 10
  - x >= 10
  - x <= 10
- 动作（action）：
  - 格式化输出
  - 流程控制语句
![](/Linux-Learning-Note/图片/QQ截图20220412142337.png)

2. BEGIN命令：awk 'BEGIN {printf "This is a transcript \n"} {printf ＄2 "\t" ＄6 "\n"}' student.txt
![](/Linux-Learning-Note/图片/QQ截图20220412142941.png)

3. FS内置变量：指定分隔符

格式：cat /etc/passwd | grep "/bin/bash" | awk 'BEGIN {FS=":"} {printf ＄1 "\t" ＄3 "\n"}'

4. 关系运算符

cat student.txt | grep -v Name | awk '＄6 >= 87 {printf ＄2 "\n"}'

## 11.2.4 sed命令
sed是一种几乎包括在所有UNIX平台（包括Linux）的轻量级流编辑器。sed主要是用来将数据进行选取、替换、删除、新增的命令。

格式：sed [选项] '[动作]' 文件名
- 选项：
  - -n：一般sed命令会把所有数据都输出到屏幕，如果加入此选择，则只会把经过sed命令处理的行输出到屏幕
  - -e：允许对输入数据应用多条sed命令编辑，命令之间用**分号**隔开
  - -i：用sed的修改结果直接修改读取数据的文件，而不是由屏幕输出
- 动作：
  - a \：追加，在当前行后添加一行或多行。添加多行时，除最后一行外，每行末尾需要用“\”代表数据未完结
  - c \：行替换，用c后面的字符串替换原数据行，替换多行时，除最后一行外，每行末尾需要用“\”代表数据未完结
  - i \：插入，在当前行前插入一行或多行。插入多行时，除最后一行外，每行末尾需要用“\”代表数据未完结
  - d：删除，删除指定的行
  - p：打印，输出指定的行
  - s：字串替换，用一个字符串替换另外一个字符串。格式为“行范围s/旧字串/新字串/g”（和vim中的替换格式类似）